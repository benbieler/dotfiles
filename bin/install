#!/usr/bin/env bash

set -e

# ZSH config
echo -e "\e[33mBacking up .zshrc and adding the one of oh-my-zsh\e[0m"
if [[ ! -f ~/.zsh_previous ]]; then
  cp ~/.zshrc ~/.zsh_previous
fi
if [[ ! -f ~/.oh-my-zsh ]]; then
  cp -R ./.oh-my-zsh ~/.oh-my-zsh
fi
if [[ ! -f ~/.oh-my-zsh/themes/lambda-mod.zsh-theme ]]; then
  cp ./.zsh-theme/lambda-mod.zsh-theme ~/.oh-my-zsh/themes/lambda-mod.zsh-theme
fi
rm ~/.zshrc
cp ./zsh/zshrc ~/.zshrc

# VIM configs
echo -e "\e[33mCopying files from 'vimfiles/' to ~/.vim...\e[0m"
cp -R ./vimfiles ~/
if [[ -e ~/.vim ]]; then
  rm -rf ~/.vim
fi
mv ~/vimfiles ~/.vim
rm -rf ~/vimfiles

# copy pre-configured configs
echo -e "\e[33mCopying config files (.gitignore, .gitconfig, gpg.conf)...\e[0m"
cp ./git/gitignore ~/.gitignore
cp ./git/gitconfig ~/.gitconfig
cp ./gnupg/gpgconf ~/.gnupg/gpg.conf

echo -e "\e[32mSuccessfully synchronized all the configs!\e[0m"
